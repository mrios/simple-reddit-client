(this["webpackJsonpsimple-reddit-client"]=this["webpackJsonpsimple-reddit-client"]||[]).push([[0],{160:function(e,t,a){e.exports=a(282)},169:function(e,t,a){},171:function(e,t,a){},282:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),l=a(5),s=a.n(l),r=a(36),c=a(63),o=a(126),d=a(127),m=a(68),u=a(128),p=a.n(u);function h(){return function(e){var t;return e({type:"REQUEST_POSTS",postId:t}),p()("https://www.reddit.com/top.json?limit=50").then((function(e){return e.json()})).then((function(t){return e(function(e){return{type:"RECEIVE_POSTS",items:e.data.children.map((function(e){return e.data})),receivedAt:Date.now()}}(t))}))}}function E(){return function(e,t){if(function(e){var t=e.posts;return!t||!t.isFetching&&t.didDismiss}(t()))return e(h())}}var f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isFetching:!1,didDismiss:!1,items:[],selectedId:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SELECT_POST":var a=e.items.map((function(e){return e.id===t.postId?Object(m.a)({},e,{unread:!1}):e}));return Object(m.a)({},e,{isFetching:!1,items:a,lastUpdated:t.receivedAt,selectedId:t.postId});case"DISMISS_POST":var n=e.items.filter((function(e){return e.id!==t.postId}));return Object(m.a)({},e,{isFetching:!1,items:n,lastUpdated:t.receivedAt,selectedId:null});case"DISMISS_ALL":return Object(m.a)({},e,{isFetching:!1,items:[],lastUpdated:t.receivedAt,selectedId:null});case"REQUEST_POSTS":return Object.assign({},e,{isFetching:!0,didDismiss:!1});case"RECEIVE_POSTS":return Object.assign({},e,{isFetching:!1,didDismiss:!1,items:t.items,lastUpdated:t.receivedAt});default:return e}},g=Object(d.createLogger)();a(169);var v=a(51),b=a(52),S=a(38),O=a(55),y=a(56),j=(a(170),a(171),a(290)),I=a(285),D=a(286),k=a(291),C=a(297),w=a(298),P=a(299),F=a(288),x=a(292),T=a(139),A=a(289),_=a(287),z=a(294),U=a(295),L=a(296),N=a(129),R=a.n(N),M=a(155),W=F.a.Text,B=F.a.Title,J=j.a.Content,Q=function(){return i.a.createElement("span",null,i.a.createElement(k.a,{type:"link",danger:!0,icon:i.a.createElement(z.a,{twoToneColor:"#eb2f96"}),style:{marginRight:8}},i.a.createElement("span",{style:{color:"grey"}},"Dismiss Post")))},V=function(e){var t=e.item;return i.a.createElement(I.a,null,!1===t.unread?"":i.a.createElement(D.a,{xs:24,lg:3},i.a.createElement(x.a,{color:"#f50"},"new!")),i.a.createElement(D.a,{xs:24,lg:10},i.a.createElement(U.a,null),i.a.createElement(W,{code:!0},t.author)),i.a.createElement(D.a,{xs:24,lg:8},i.a.createElement(L.a,null),i.a.createElement(W,{code:!0},i.a.createElement(R.a,{fromNow:!0,unix:!0},t.created_utc))),i.a.createElement(D.a,{xs:24},i.a.createElement(B,{level:4},t.title)))},q=function(e){Object(y.a)(a,e);var t=Object(O.a)(a);function a(e){var n;return Object(v.a)(this,a),(n=t.call(this,e)).handleSelectPost=n.handleSelectPost.bind(Object(S.a)(n)),n.handleDismissPost=n.handleDismissPost.bind(Object(S.a)(n)),n}return Object(b.a)(a,[{key:"componentDidMount",value:function(){this.props.dispatch(E())}},{key:"handleSelectPost",value:function(e){this.props.dispatch(function(e){return{type:"SELECT_POST",postId:e}}(e))}},{key:"handleDismissPost",value:function(e){this.props.dispatch(function(e){return{type:"DISMISS_POST",postId:e}}(e))}},{key:"render",value:function(){var e=this,t=this.props.items;return this.props.isFetching?i.a.createElement("div",{className:"loading-container"},i.a.createElement(T.a,{size:"large"})):i.a.createElement("div",null,i.a.createElement(j.a,null,i.a.createElement(J,null,i.a.createElement(A.a,{itemLayout:"vertical",size:"small",pagination:{pageSize:10,position:"both"},dataSource:t,renderItem:function(t){return i.a.createElement(M.a,{component:"span",type:["right","left"],leaveReverse:!0},i.a.createElement(A.a.Item,{style:{padding:"20px 10px"},key:t.title,actions:[i.a.createElement("span",{onClick:function(){return e.handleDismissPost(t.id)}},i.a.createElement(Q,{item:t})),i.a.createElement("span",{onClick:function(){return e.handleSelectPost(t.id)}},t.num_comments," Comments"),i.a.createElement("span",{onClick:function(){return e.handleSelectPost(t.id)}},">>")]},i.a.createElement(A.a.Item.Meta,{title:i.a.createElement("span",{className:"mobile-container",onClick:function(){return e.handleSelectPost(t.id)}},i.a.createElement(V,{item:t})),avatar:i.a.createElement("span",{className:"mobile-container",onClick:function(){return e.handleSelectPost(t.id)}},i.a.createElement(_.a,{shape:"square",size:64,src:t.thumbnail}))}),t.content))}}))))}}]),a}(i.a.Component);var H=Object(r.b)((function(e){var t=e||{isFetching:!0,items:[]},a=t.isFetching,n=t.lastUpdated;return{items:t.items,isFetching:a,lastUpdated:n}}))(q),$=a(293),G=F.a.Title,K=j.a.Content,X=function(e){return e.thumbnail.indexOf("http")>-1?i.a.createElement("img",{alt:"thubmnail",src:e.thumbnail}):""},Y=function(e){Object(y.a)(a,e);var t=Object(O.a)(a);function a(){return Object(v.a)(this,a),t.apply(this,arguments)}return Object(b.a)(a,[{key:"render",value:function(){var e=this.props.post;return i.a.createElement(j.a,{style:{position:"fixed",zIndex:1,padding:20}},i.a.createElement(K,null,this.props.isSelected?i.a.createElement("div",{className:"details-container"},i.a.createElement(G,{level:3},e.title),i.a.createElement(X,{thumbnail:e.thumbnail}),i.a.createElement("p",{style:{padding:10}},e.num_comments," Comments ")):i.a.createElement($.a,{message:"Looking for the latest news?",description:"Please, select a post to see more details",type:"info",showIcon:!0,style:{width:"100%"}})))}}]),a}(i.a.Component),Z=Object(r.b)((function(e){return{post:e.items.find((function(t){return t.id===e.selectedId}))||{title:"",description:""},isSelected:null!==e.selectedId}}))(Y),ee=j.a.Sider,te=j.a.Header,ae=j.a.Content,ne=function(e){Object(y.a)(a,e);var t=Object(O.a)(a);function a(e){var n;return Object(v.a)(this,a),(n=t.call(this,e)).toggle=function(){n.setState({collapsed:!n.state.collapsed})},n.handleDismissAll=n.handleDismissAll.bind(Object(S.a)(n)),n.handleFetchData=n.handleFetchData.bind(Object(S.a)(n)),n.state={collapsed:!1},n}return Object(b.a)(a,[{key:"handleFetchData",value:function(){this.props.dispatch(E())}},{key:"handleDismissAll",value:function(){this.props.dispatch({type:"DISMISS_ALL"})}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"App"},i.a.createElement(j.a,null,i.a.createElement(te,{style:{position:"fixed",zIndex:1,width:"100%",padding:"0 30px"}},i.a.createElement(I.a,{justify:"start"},i.a.createElement(D.a,{xs:3,lg:1},i.a.createElement(this.state.collapsed?C.a:w.a,{className:"trigger",onClick:this.toggle,style:{fontSize:20}})),i.a.createElement(D.a,{xs:13,lg:7},i.a.createElement("h4",null,i.a.createElement(P.a,{style:{marginRight:8,fontSize:20}}),"Simple Reddit Client")),i.a.createElement(D.a,{xs:8,lg:4},this.props.items.length>0?i.a.createElement(k.a,{danger:!0,size:"small",onClick:function(){return e.handleDismissAll()}},"Dismiss All"):i.a.createElement(k.a,{type:"primary",size:"small",onClick:function(){return e.handleFetchData()}},"Fetch Data")))),i.a.createElement(ae,{style:{marginTop:64}},i.a.createElement(j.a,null,i.a.createElement(ee,{trigger:null,collapsible:!0,collapsed:this.state.collapsed,width:"50%",className:"sidebar-section",breakpoint:"lg",collapsedWidth:"0"},i.a.createElement(H,null)),i.a.createElement(ae,{className:"post-details"},i.a.createElement(Z,null))))))}}]),a}(i.a.Component);var ie=Object(r.b)((function(e){var t=e||{isFetching:!0,items:[]},a=t.isFetching,n=t.lastUpdated;return{items:t.items,isFetching:a,lastUpdated:n}}))(ne);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var le,se=Object(c.c)(f,le,Object(c.a)(o.a,g));s.a.render(i.a.createElement(r.a,{store:se},i.a.createElement(ie,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[160,1,2]]]);
//# sourceMappingURL=main.72b1a120.chunk.js.map